% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/DataClasses.R, R/functions-Params.R, R/methods-Params.R, R/methods-XCMSnExp.R
\docType{class}
\name{adjustRtime-featureGroups}
\alias{FeatureGroupsParam}
\alias{FeatureGroupsParam-class}
\alias{adjustRtime,XCMSnExp,FeatureGroupsParam-method}
\alias{adjustRtime-featureGroups}
\alias{extraFeatures}
\alias{extraFeatures,FeatureGroupsParam-method}
\alias{extraFeatures<-}
\alias{extraFeatures<-,FeatureGroupsParam-method}
\alias{family}
\alias{family,FeatureGroupsParam-method}
\alias{family<-}
\alias{family<-,FeatureGroupsParam-method}
\alias{minFraction,FeatureGroupsParam-method}
\alias{minFraction<-,FeatureGroupsParam-method}
\alias{show,FeatureGroupsParam-method}
\alias{smooth}
\alias{smooth,FeatureGroupsParam-method}
\alias{smooth<-}
\alias{smooth<-,FeatureGroupsParam-method}
\alias{span}
\alias{span,FeatureGroupsParam-method}
\alias{span<-}
\alias{span<-,FeatureGroupsParam-method}
\title{Retention time correction based on alignment of house keeping feature
groups}
\usage{
FeatureGroupsParam(minFraction = 0.9, extraFeatures = 1, smooth = "loess",
  span = 0.2, family = "gaussian")

\S4method{show}{FeatureGroupsParam}(object)

\S4method{minFraction}{FeatureGroupsParam}(object)

\S4method{minFraction}{FeatureGroupsParam}(object) <- value

\S4method{extraFeatures}{FeatureGroupsParam}(object)

\S4method{extraFeatures}{FeatureGroupsParam}(object) <- value

\S4method{smooth}{FeatureGroupsParam}(x)

\S4method{smooth}{FeatureGroupsParam}(object) <- value

\S4method{span}{FeatureGroupsParam}(object)

\S4method{span}{FeatureGroupsParam}(object) <- value

\S4method{family}{FeatureGroupsParam}(object)

\S4method{family}{FeatureGroupsParam}(object) <- value

\S4method{adjustRtime}{XCMSnExp,FeatureGroupsParam}(object, param)
}
\arguments{
\item{minFraction}{numeric(1) between 0 and 1 defining the minimum required
fraction of samples in which features for the feature group were identified.
Feature groups passing this criteria will aligned across samples and retention
times of individual spectra will be adjusted based on this alignment. For
\code{minFraction = 1} the feature group has to contain features in all
samples of the experiment.}

\item{extraFeatures}{numeric(1) defining the maximal number of additional
features for all samples to be assigned to a feature group for retention time
correction. For a data set with 6 samples, \code{extraFeatures = 1} uses all
feature groups with a total feature count \code{<= 6 + 1}. The total feature
count is the total number of features being assigned to a feature group and
considers also multiple features within a sample being assigned to the group.}

\item{smooth}{character defining the function to be used, to interpolate
corrected retention times for all feature groups. Either \code{"loess"} or
\code{"linear"}.}

\item{span}{numeric(1) defining the degree of smoothing (if
\code{smooth = "loess"}). This parameter is passed to the internal call
to \code{\link{loess}}.}

\item{family}{character defining the method to be used for loess smoothing.
Allowed values are \code{"gaussian"} and \code{"symmetric"}.See
\code{\link{loess}} for more information.}

\item{object}{For \code{adjustRtime}: an \code{\link{XCMSnExp}} object
containing the results from a previous feature detection (see
\code{\link{detectFeatures}}) and alignment analysis (see
\code{\link{groupFeatures}}).

For all other methods: a \code{FeatureGroupsParam} object.}

\item{value}{The value for the slot.}

\item{x}{a \code{FeatureGroupsParam} object.}

\item{param}{A \code{FeatureGroupsParam} object containing all settings for
the retention time correction method..}
}
\value{
The \code{FeatureGroupsParam} function returns a
\code{FeatureGroupsParam} class instance with all of the settings
specified for retention time adjustment based on \emph{house keeping}
feature groups.

For \code{adjustRtime}: a \code{\link{XCMSnExp}} object with the
results of the retention time adjustment step. These can be accessed with the
\code{\link{adjustedRtime}} method. Retention time correction does also adjust
the retention time of the identified features (accessed \emph{via}
\code{\link{features}}. Note that retention time correction drops
all previous alignment results from the result object.
}
\description{
This method performs retention time adjustment based on the
alignment of feature groups present in all/most samples (hence corresponding
to house keeping compounds). First the retention time deviation of these
feature groups is described by fitting either a polynomial
(\code{smooth = "loess"}) or a linear (\code{smooth = "linear"}) model to the
data points. These models are subsequently used to adjust the retention time
of each spectrum in each sample.

The \code{FeatureGroupsParam} class allows to specify all
settings for the retention time adjustment based on \emph{house keeping}
feature groups present in most samples.
Instances should be created with the \code{FeatureGroupsParam} constructor.

\code{minFraction},\code{minFraction<-}: getter and setter
for the \code{minFraction} slot of the object.

\code{extraFeatures},\code{extraFeatures<-}: getter and setter
for the \code{extraFeatures} slot of the object.

\code{smooth},\code{smooth<-}: getter and setter
for the \code{smooth} slot of the object.

\code{span},\code{span<-}: getter and setter
for the \code{span} slot of the object.

\code{family},\code{family<-}: getter and setter
for the \code{family} slot of the object.

\code{adjustRtime,XCMSnExp,FeatureGroupsParam}:
performs retention time correction based on the alignment of feature groups
found in all/most samples.
}
\section{Slots}{

\describe{
\item{\code{.__classVersion__,minFraction,extraFeatures,smooth,span,family}}{See corresponding parameter above. \code{.__classVersion__} stores
the version from the class. Slots values should exclusively be accessed
\emph{via} the corresponding getter and setter methods listed above.}
}}
\note{
These methods and classes are part of the updated and modernized
\code{xcms} user interface which will eventually replace the
\code{\link{group}} methods. All of the settings to the alignment algorithm
can be passed with a \code{FeatureGroupsParam} object.

Calling \code{adjustRtime} on an \code{XCMSnExp} object will cause
all feature grouping (alignment) results to be dropped.
}
\author{
Colin Smith, Johannes Rainer
}
\references{
Colin A. Smith, Elizabeth J. Want, Grace O'Maille, Ruben Abagyan and
Gary Siuzdak. "XCMS: Processing Mass Spectrometry Data for Metabolite
Profiling Using Nonlinear Peak Alignment, Matching, and Identification"
\emph{Anal. Chem.} 2006, 78:779-787.
}
\seealso{
The \code{\link{do_adjustRtime_featureGroups}} core
API function and \code{\link{retcor.peakgroups}} for the old user interface.

\code{\link{XCMSnExp}} for the object containing the results of
the feature alignment.

Other retention time correction methods: \code{\link{adjustRtime}}
}

